# Лабораторная 1. Реляционные данные. Исследовательский анализ данных. Построение визуализаций данных OLAP

## 1. Описание

В данной лабораторной работе необходимо создать локальную базу данных, подключиться к ней из Python, объединить данные в одну таблицу с помощью **Pandas** и выполнить исследовательский анализ данных (**EDA**) с визуализацией распределений и зависимостей признаков.

Программа работает с датасетом по игре **League of Legends** — **League of Legends Ranked Matches**.

Датасет доступен по следующей ссылке:  
[League of Legends Ranked Matches - Kaggle](https://www.kaggle.com/datasets/paololol/league-of-legends-ranked-matches)

## 2. Запуск

### 2.1 Установка PostgreSQL

Для работы с датасетом необходимо установить базу данных **PostgreSQL**. После этого необходимо создать базу данных в PostgreSQL через интерфейс или с помощью консольной команды. В данной работе использовалась команда:

```sql
CREATE DATABASE;
```

### 2.2 Создание таблиц

После того как база данных создана, необходимо создать таблицы для базы данных. Один файл датасета — одна таблица.

Файл create_table.sql, расположенный в папке Lab1/data/, содержит команды для создания таблиц. В нем используются команды DROP TABLE и CREATE TABLE для удаления старых таблиц (если они существуют) и создания новых.

### 2.3 Копирование данных в базу данных

После создания таблиц необходимо загрузить данные в базу данных. Для этого можно использовать команду \copy в PostgreSQL. В папке Lab1/data/ находятся CSV файлы с данными. Для каждого файла создайте команду копирования данных в соответствующую таблицу.

Пример команды для копирования данных из файла champs.csv:

```sql
\copy champs FROM 'путь_к_проекту/data/champs.csv' DELIMITER ',' CSV HEADER QUOTE '"'; 
```

### 2.4 Использование скрипта Python для загрузки данных

Если вы хотите автоматизировать процесс загрузки данных, используйте скрипт Python, расположенный в файле main.py. Он использует библиотеки SQLAlchemy и Pandas для переноса данных из CSV файлов в базу данных.

Для работы скрипта необходимо создать файл .env в корневом каталоге проекта и указать в нем пароль от базы данных в переменной DB_PASSWORD.

Пример файла .env:

```dotenv
DB_PASSWORD=your_password_here
```

### 2.5 Дамп базы данных

В папке Lab1/data/ также находится выгрузка дампа базы данных под названием lol_database_dump.sql. Это дамп базы данных, который можно использовать для восстановления данных.

### 2.6 Запуск анализа данных

Для анализа данных, их объединения в одну таблицу и выполнения исследовательского анализа, запускайте файл app.py.

python app.py

## 3. Требования

PostgreSQL для создания и работы с базой данных.

Python 3.x для работы с библиотеками Pandas и SQLAlchemy.

Установите зависимости с помощью команды в корне всего проекта:
```text
pip install -r requirements.txt
```